<!DOCTYPE HTML>
<html>
<head>
    <title>ARPANET</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <link rel="stylesheet" href="css/arpanet.css" />

    <style>
        /* ======================================= */
        /* STILI GENERALI (Per coerenza con la Chat) */
        /* ======================================= */
        
        /* 1. CORREZIONE SFONDO: Rendiamo trasparenti i wrapper principali */
        #page-wrapper { background: transparent !important; }
        #main { background: transparent !important; }
        
        /* 2. Manteniamo la sezione "features" nera/trasparente */
        #features {
            background: #000 !important;
            padding-top: 2em; 
        }

        /* 3. Colori Header (Titolo/Sottotitolo) */
        #header .container h1 a,
        #header .container p {
            color: #00ff00; /* Verde brillante per l'intestazione */
            text-shadow: 0 0 5px rgba(0, 255, 0, 0.7);
        }

        /* 4. Titoli Sezioni (07.11.1966, ecc.) - Stile da chat/progetto */
        #features h1 {
            font-family: 'MGS', sans-serif; 
            color: #ffaa00; /* Giallo-Arancio per enfasi */
            text-shadow: 0 0 8px rgba(255, 170, 0, 0.9);
            font-size: 1.5em;
            letter-spacing: 1px;
        }
        
        /* 5. Immagini */
        .image.featured {
            border: 2px solid #00ff00; /* Cornice verde per le immagini */
            box-shadow: 0 0 10px rgba(0, 255, 0, 0.5);
        }

        /* ======================================= */
        /* STILI MODAL (Già forniti dall'utente) */
        /* ======================================= */

        #immagineTrigger, #immagineTrigger2, #immagineTrigger3 {
            cursor: pointer;
            transition: transform 0.2s;
        }
        #immagineTrigger:hover, #immagineTrigger2:hover, #immagineTrigger3:hover {
            transform: scale(1.05); /* Leggero zoom al passaggio del mouse */
        }

        /* L'overlay scuro di sfondo (invariato) */
        .modal {
            display: none; /* Nascosto di default */
            position: fixed; /* Rimane fermo anche se scorri la pagina */
            z-index: 1000; /* Sta sopra a tutto il resto */
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto; /* Abilita lo scroll se serve */
            background-color: rgba(0, 0, 0, 0.6); /* Sfondo nero semi-trasparente */
        }

        /* * ===========================================
        * ▼▼▼ INIZIA LA NUOVA CORNICE "CODEC" ▼▼▼
        * ===========================================
        */

        /* 1. LA CORNICE ESTERNA (verde scuro) */
        .modal-contenuto {
            /* Layout */
            margin: 10% auto; /* 10% dall'alto per centrarlo meglio */
            width: 90%;
            max-width: 500px; /* Un po' più largo per lo stile */
            
            /* Stile "Cornice" (MGS Style) */
            background-color: #004d00; /* Verde militare scuro */
            border: 4px solid #00ff00; /* Bordo verde brillante */
            border-radius: 0; /* ANGOLI VIVI, niente arrotondamento */
            padding: 12px; /* Spazio tra bordo esterno e interno */
            box-shadow: 0 0 25px rgba(0, 255, 0, 0.5); /* Bagliore verde */
            
            /* Proprietà del font ereditate */
            color: #00ff00;
        }

        /* 2. IL BOX INTERNO (nero) */
        .modal-interno-codec {
            background: #000; /* Sfondo nero puro per il contenuto */
            border: 2px solid #00ff00; /* Bordo interno verde */
            padding: 25px; /* Spazio per il contenuto */
        }

        /* 3. IL PULSANTE DI CHIUSURA (la 'x') */
        .chiudi-modal {
            color: #00ff00; /* Colore verde brillante */
            float: right;
            font-size: 32px;
            font-weight: bold;
            text-shadow: 0 0 5px #00ff00; /* Leggero bagliore */
            opacity: 0.7;
            margin-top: -5px; /* Aggiustamento posizione */
        }

        .chiudi-modal:hover,
        .chiudi-modal:focus {
            color: #fff; /* Bianco al passaggio del mouse */
            opacity: 1;
            text-decoration: none;
            cursor: pointer;
        }

        /* 4. TESTO INTERNO (h2, p, label) */
        /* Sovrascrive i colori di default per usare quelli del codec */
        .modal-interno-codec h2, 
        .modal-interno-codec p, 
        .modal-interno-codec label {
            font-family: 'MGS_chat', 'MGS', monospace; /* USA I TUOI FONT! */
            color: #00ff00 !important; /* Verde brillante (importante per forzare) */
            text-align: left; /* Allineamento a sinistra, stile terminale */
            text-shadow: 0 0 5px rgba(0, 255, 0, 0.7); /* Bagliore testo */
        }

        .modal-interno-codec h2 {
            font-size: 1.5em;
            text-transform: uppercase;
        }
        .modal-interno-codec p {
            font-size: 1em;
        }
        .modal-interno-codec label {
            font-size: 1em;
            margin-bottom: 5px;
            display: block;
        }

        /* 5. FORM (Input e Bottone) */
        #loginForm input[type="text"] {
            /* Stili generali già definiti (nero, verde, bordo) */
            font-family: 'MGS_chat', monospace;
            font-size: 1.2em;
            background-color: #000;
            color: #00ff00;
            border: 2px solid #00ff00;
            border-radius: 0;
            padding: 10px;
            margin-top: 5px;
            
            /* Riduce la larghezza per i 4 caratteri */
            width: 145px; 
            text-align: right; /* Allinea il testo a destra */
            box-sizing: border-box; 
        }

        #loginForm input[type="text"]:focus {
            outline: none;
            box-shadow: 0 0 10px rgba(0, 255, 0, 0.7);
            background-color: #050a05;
        }

        /* Stile Bottone "CONNECT" */
        #loginForm button {
            font-family: 'MGS', sans-serif; /* Font MGS principale */
            font-size: 1.2em;
            letter-spacing: 2px;
            text-transform: uppercase;
            
            background-color: #000;
            color: #00ff00;
            border: 2px solid #00ff00;
            border-radius: 0;
            
            padding: 14px 20px;
            margin-top: 20px;
            cursor: pointer;
            width: 100%;
        }

        #loginForm button:hover {
            background-color: #00ff00; /* Inverti colori al hover */
            color: #000;
            box-shadow: 0 0 15px rgba(0, 255, 0, 0.8);
            opacity: 1; /* Resetta l'opacità standard */
        }

        /* Messaggio di Errore */
        #messaggioErrore {
            font-family: 'MGS_chat', monospace;
            color: #ff0000 !important; /* Rosso brillante per l'errore */
            text-shadow: 0 0 5px rgba(255, 0, 0, 0.7);
            margin-top: 15px;
        }

        /* Container per l'input e il suffisso (.000) */
        .input-gruppo {
            display: flex; /* Mantiene l'input e il suffisso sulla stessa riga */
            align-items: center;
            margin-bottom: 15px; /* Spazio tra i gruppi di coordinate */
        }

        /* Stile per il suffisso (.000) */
        .suffisso-coord {
            font-family: 'MGS_chat', monospace;
            font-size: 1.2em;
            color: #00ff00; /* Verde CODEC */
            text-shadow: 0 0 5px rgba(0, 255, 0, 0.7);
            margin-left: 5px;
            /* Rimuove l'effetto di riempimento dell'input per allinearlo */
            padding: 10px 0; 
        }

    </style>
</head>
<body class="homepage is-preload">
    <div id="page-wrapper">

        <section id="header">
            <div class="container">
                <h1 id="logo"><a href="index.html">ARPANET</a></h1>
                <p>Communication System V1</p>
            </div>
        </section>
        
        <hr>

        <section id="features">
            <div class="container">
                <div class="row aln-center">
                    <div class="col-4 col-6-medium col-12-small">

                        <section>
                            <a href="chat.html" id="immagineTrigger2" class="image featured">
                                <img src="Immagini/Copilot_20251118_231448.png" alt="Icona di accesso 07.11.1966" />
                            </a>
                            <header>
                                <h1>07.11.1966</h1>
                            </header>
                        </section>

                    </div>
                    <div class="col-4 col-6-medium col-12-small">

                        <section>
                            <a href="#" id="immagineTrigger" class="image featured"><img src="Immagini/Copilot_20251118_231448.png" alt="Icona di accesso 08.11.1966" /></a>
                            <header>
                                <h1>08.11.1966</h1>
                            </header>
                        </section>

                    </div>
                    <div class="col-4 col-6-medium col-12-small">

                        <section>
                            <a href="#" id="immagineTrigger3" class="image featured">
                                <img src="Immagini/Copilot_20251118_230245.png" alt="Icona Progetto Philosopher" />
                            </a>
                            <header>
                                <h1>Philosophers Project</h1>
                            </header>
                        </section>

                    </div>
                    <div class="col-4 col-6-medium col-12-small">
                    </div>
                </div>
            </div>
        </section>

    </div>

    <div id="modalLogin" class="modal">
        <div class="modal-contenuto">
            <div class="modal-interno-codec">
                <span class="chiudi-modal">&times;</span>
                <h2 id="modalTitolo">Accesso Area Riservata</h2>

                <form id="loginForm">
                    
                    <label for="coordEstInput"><b>E</b></label>
                    <div class="input-gruppo">
                        <input type="text" placeholder="XXXX" id="coordEstInput" maxlength="4" required>
                        <span class="suffisso-coord">.000</span>
                    </div>

                    <label for="coordNordInput"><b>N</b></label>
                    <div class="input-gruppo">
                        <input type="text" placeholder="YYYY" id="coordNordInput" maxlength="4" required>
                        <span class="suffisso-coord">.000</span>
                    </div>
                    
                    <button type="submit">CONNECT</button>
                    
                    <p id="messaggioErrore"></p>
                </form>
            </div>
        </div>
    </div>


    <script>
        // --- 1. CONFIGURAZIONE ---
        const loginConfigs = {
            "immagineTrigger2": { // Trigger per 07.11.1966
                coordEst: "2205",                    
                coordNord: "5008",                  
                pagina: "pagina_giorno_1.html",
                titolo: "Accesso 07.11.1966"
            },
            "immagineTrigger": { // Trigger per 08.11.1966
                coordEst: "1005",                    
                coordNord: "4509",                  
                pagina: "chat.html",
                titolo: "Accesso 08.11.1966"
            },
            "immagineTrigger3": { // Trigger per [TOP SECRET]
                coordEst: "9999",                    
                coordNord: "9999",                  
                pagina: "pagina_top_secret.html",
                titolo: "Accesso Area [TOP SECRET]"
            }
        };

        // --- 2. SELEZIONE DEGLI ELEMENTI HTML ---
        const modal = document.getElementById("modalLogin");
        const modalTitolo = modal.querySelector("h2"); 
        const closeBtn = document.querySelector(".chiudi-modal");
        const loginForm = document.getElementById("loginForm");
        const messaggioErrore = document.getElementById("messaggioErrore");

        // --- 3. VARIABILE DI STATO ---
        let triggerAttivo = null;

        // --- 4. LOGICA PER APRIRE IL MODAL (DINAMICA) ---
        Object.keys(loginConfigs).forEach(triggerId => {
            
            const triggerElement = document.getElementById(triggerId);
            
            if (triggerElement) {
                triggerElement.onclick = function(event) {
                    event.preventDefault(); 
                    
                    // 1. RICORDA quale trigger ha aperto il modal
                    triggerAttivo = triggerId; 
                    
                    // 2. PRENDI la configurazione giusta (password, pagina, titolo)
                    const config = loginConfigs[triggerAttivo];
                    
                    // 3. AGGIORNA il titolo del modal dinamicamente
                    modalTitolo.textContent = config.titolo; 
                    
                    // 4. RESETTA e MOSTRA il modal
                    messaggioErrore.textContent = ""; 
                    loginForm.reset(); 
                    modal.style.display = "block";
                }
            }
        });

        // --- 5. LOGICA PER CHIUDERE IL MODAL (Invariata) ---
        // Quando l'utente clicca sulla 'x', chiudi il modal
        closeBtn.onclick = function() {
            modal.style.display = "none";
        }

        // Chiudi il modal anche se l'utente clicca fuori dalla finestra
        window.onclick = function(event) {
            if (event.target == modal) {
                modal.style.display = "none";
            }
        }

        // --- 6. LOGICA PER IL SUBMIT (DINAMICA) ---
        loginForm.onsubmit = function(event) {
            event.preventDefault(); 

            if (!triggerAttivo) return; 

            const config = loginConfigs[triggerAttivo];
            
            // Prendi i valori a 4 cifre inseriti dall'utente
            const estInserito = document.getElementById("coordEstInput").value;
            const nordInserito = document.getElementById("coordNordInput").value;

            // CONFRONTA i valori a 4 cifre 
            if (estInserito === config.coordEst && nordInserito === config.coordNord) {
                // Se sono GIUSTE:
                alert(`Connessione Stabilita.\nAccesso a CTR: ${config.coordEst}.000 (E) / ${config.coordNord}.000 (N)`);
                window.location.href = config.pagina;
            } else {
                // Se sono SBAGLIATE:
                messaggioErrore.textContent = "Coordinate di reticolo non valide. Riprova.";
            }
        }
    </script>

</body>
</html>