<!DOCTYPE HTML>
<html>
<head>
    <title>ARPANET</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <link rel="stylesheet" href="css/arpanet.css" />

    <style>
        #immagineTrigger, #immagineTrigger2, #immagineTrigger3 {
    cursor: pointer;
    transition: transform 0.2s;
}
#immagineTrigger:hover, #immagineTrigger2:hover, #immagineTrigger3:hover {
    transform: scale(1.05); /* Leggero zoom al passaggio del mouse */
}

/* L'overlay scuro di sfondo (invariato) */
.modal {
    display: none; /* Nascosto di default */
    position: fixed; /* Rimane fermo anche se scorri la pagina */
    z-index: 1000; /* Sta sopra a tutto il resto */
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto; /* Abilita lo scroll se serve */
    background-color: rgba(0, 0, 0, 0.6); /* Sfondo nero semi-trasparente */
}

/* * ===========================================
 * ▼▼▼ INIZIA LA NUOVA CORNICE "CODEC" ▼▼▼
 * ===========================================
 */

/* 1. LA CORNICE ESTERNA (verde scuro) */
.modal-contenuto {
    /* Layout */
    margin: 10% auto; /* 10% dall'alto per centrarlo meglio */
    width: 90%;
    max-width: 500px; /* Un po' più largo per lo stile */
    
    /* Stile "Cornice" (MGS Style) */
    background-color: #004d00; /* Verde militare scuro */
    border: 4px solid #00ff00; /* Bordo verde brillante */
    border-radius: 0; /* ANGOLI VIVI, niente arrotondamento */
    padding: 12px; /* Spazio tra bordo esterno e interno */
    box-shadow: 0 0 25px rgba(0, 255, 0, 0.5); /* Bagliore verde */
    
    /* Proprietà del font ereditate */
    color: #00ff00;
}

/* 2. IL BOX INTERNO (nero) */
.modal-interno-codec {
    background: #000; /* Sfondo nero puro per il contenuto */
    border: 2px solid #00ff00; /* Bordo interno verde */
    padding: 25px; /* Spazio per il contenuto */
}

/* 3. IL PULSANTE DI CHIUSURA (la 'x') */
.chiudi-modal {
    color: #00ff00; /* Colore verde brillante */
    float: right;
    font-size: 32px;
    font-weight: bold;
    text-shadow: 0 0 5px #00ff00; /* Leggero bagliore */
    opacity: 0.7;
    margin-top: -5px; /* Aggiustamento posizione */
}

.chiudi-modal:hover,
.chiudi-modal:focus {
    color: #fff; /* Bianco al passaggio del mouse */
    opacity: 1;
    text-decoration: none;
    cursor: pointer;
}

/* 4. TESTO INTERNO (h2, p, label) */
/* Sovrascrive i colori di default per usare quelli del codec */
.modal-interno-codec h2, 
.modal-interno-codec p, 
.modal-interno-codec label {
    font-family: 'MGS_chat', 'MGS', monospace; /* USA I TUOI FONT! */
    color: #00ff00 !important; /* Verde brillante (importante per forzare) */
    text-align: left; /* Allineamento a sinistra, stile terminale */
    text-shadow: 0 0 5px rgba(0, 255, 0, 0.7); /* Bagliore testo */
}

.modal-interno-codec h2 {
    font-size: 1.5em;
    text-transform: uppercase;
}
.modal-interno-codec p {
    font-size: 1em;
}
.modal-interno-codec label {
    font-size: 1em;
    margin-bottom: 5px;
    display: block;
}

/* 5. FORM (Input e Bottone) */
#loginForm input[type="password"] {
    font-family: 'MGS_chat', monospace;
    font-size: 1.2em;
    background-color: #000; /* Sfondo nero */
    color: #00ff00; /* Testo verde */
    border: 2px solid #00ff00;
    border-radius: 0; /* Angoli vivi */
    padding: 10px;
    margin-top: 5px;
    
    /* Proprietà ereditate da arpanet.css da resettare */
    width: 100%;
    box-sizing: border-box; 
    box-shadow: none; 
}

#loginForm input[type="password"]:focus {
    outline: none; /* Niente contorno blu di default */
    box-shadow: 0 0 10px rgba(0, 255, 0, 0.7); /* Bagliore verde al focus */
    background-color: #050a05; /* Leggero cambio colore */
}

/* Stile Bottone "CONNECT" */
#loginForm button {
    font-family: 'MGS', sans-serif; /* Font MGS principale */
    font-size: 1.2em;
    letter-spacing: 2px;
    text-transform: uppercase;
    
    background-color: #000;
    color: #00ff00;
    border: 2px solid #00ff00;
    border-radius: 0;
    
    padding: 14px 20px;
    margin-top: 20px;
    cursor: pointer;
    width: 100%;
}

#loginForm button:hover {
    background-color: #00ff00; /* Inverti colori al hover */
    color: #000;
    box-shadow: 0 0 15px rgba(0, 255, 0, 0.8);
    opacity: 1; /* Resetta l'opacità standard */
}

/* Messaggio di Errore */
#messaggioErrore {
    font-family: 'MGS_chat', monospace;
    color: #ff0000 !important; /* Rosso brillante per l'errore */
    text-shadow: 0 0 5px rgba(255, 0, 0, 0.7);
    margin-top: 15px;
}


    </style>
    </head>
<body class="homepage is-preload">
    <div id="page-wrapper">

        <section id="header">
            <div class="container">
                <h1 id="logo"><a href="index.html">ARPANET</a></h1>
                <p>Communication System V1</p>
            </div>
        </section>

        <section id="features">
            <div class="container">
                <div class="row aln-center">
                    <div class="col-4 col-6-medium col-12-small">

                        <section>
                            <a href="chat.html" id="immagineTrigger2" class="image featured">
                                <img src="Immagini/Foto-6-scaled.jpg" alt="" />
                            </a>
                            <header>
                                <h1>07.11.1966</h1>
                            </header>
                        </section>

                    </div>
                    <div class="col-4 col-6-medium col-12-small">

                        <section>
                            <a href="#" id="immagineTrigger" class="image featured"><img src="Immagini/COBRAS.jpeg" alt="" /></a>
                            <header>
                                <h1>08.11.1966</h1>
                            </header>
                        </section>

                    </div>
                    <div class="col-4 col-6-medium col-12-small">

                        <section>
                            <a href="#" id="immagineTrigger3" class="image featured"><img src="Immagini/ben-nicholas-bennicholas-metalgear-shagohod-05.jpg" alt="" /></a>
                            <header>
                                <h1>[TOP SECRET]</h1>
                            </header>
                        </section>

                    </div>
                    <div class="col-4 col-6-medium col-12-small">
                    </div>
                </div>
            </div>
        </section>
    </div>

    <div id="modalLogin" class="modal">
        <div class="modal-contenuto">
            <span class="chiudi-modal">&times;</span>
            <h2>Accesso Area Riservata</h2>
            <p>Inserisci le credenziali per continuare.</p>

            <form id="loginForm">
                <label for="password"><b>Password</b></label>
                <input type="password" placeholder="Inserisci Password" id="passwordInput" required>

                <button type="submit">CONNECT</button>
                
                <p id="messaggioErrore" style="color: red; text-align: center;"></p>
            </form>
        </div>
    </div>


    <script>
        // --- 1. CONFIGURAZIONE ---
        // Qui definiamo le password e le pagine per CIASCUN trigger.
        // La "chiave" (es. "immagineTrigger2") deve corrispondere all'ID
        // dell'elemento <a> nel tuo HTML.
        const loginConfigs = {
            "immagineTrigger2": { // Trigger per 07.11.1966
                password: "password_giorno_1",    // <-- Cambia questa
                pagina: "pagina_giorno_1.html", // <-- Cambia questa
                titolo: "Accesso 07.11.1966"
            },
            "immagineTrigger": { // Trigger per 08.11.1966 (il tuo originale)
                password: "12345",              // <-- Mantenuto il tuo originale
                pagina: "chat.html",            // <-- Mantenuto il tuo originale
                titolo: "Accesso 08.11.1966"
            },
            "immagineTrigger3": { // Trigger per [TOP SECRET]
                password: "password_segreta",   // <-- Cambia questa
                pagina: "pagina_top_secret.html", // <-- Cambia questa
                titolo: "Accesso Area [TOP SECRET]"
            }
        };

        // --- 2. SELEZIONE DEGLI ELEMENTI HTML ---
        const modal = document.getElementById("modalLogin");
        const modalTitolo = modal.querySelector("h2"); // Selezioniamo l'h2 del modal
        const closeBtn = document.querySelector(".chiudi-modal");
        const loginForm = document.getElementById("loginForm");
        const messaggioErrore = document.getElementById("messaggioErrore");

        // --- 3. VARIABILE DI STATO ---
        // Questa variabile "ricorda" quale immagine è stata cliccata per ultima
        let triggerAttivo = null;

        // --- 4. LOGICA PER APRIRE IL MODAL (DINAMICA) ---
        // Usiamo un ciclo per collegare l'evento a TUTTE le immagini definite nella configurazione
        Object.keys(loginConfigs).forEach(triggerId => {
            
            const triggerElement = document.getElementById(triggerId);
            
            if (triggerElement) {
                triggerElement.onclick = function(event) {
                    event.preventDefault(); // Impedisce al link 'href="#"' di far saltare la pagina
                    
                    // 1. RICORDA quale trigger ha aperto il modal
                    triggerAttivo = triggerId; 
                    
                    // 2. PRENDI la configurazione giusta (password, pagina, titolo)
                    const config = loginConfigs[triggerAttivo];
                    
                    // 3. AGGIORNA il titolo del modal dinamicamente
                    modalTitolo.textContent = config.titolo; 
                    
                    // 4. RESETTA e MOSTRA il modal
                    messaggioErrore.textContent = ""; // Pulisci errori vecchi
                    loginForm.reset(); // Svuota il campo password
                    modal.style.display = "block";
                }
            }
        });

        // --- 5. LOGICA PER CHIUDERE IL MODAL (Invariata) ---
        // Quando l'utente clicca sulla 'x', chiudi il modal
        closeBtn.onclick = function() {
            modal.style.display = "none";
        }

        // Chiudi il modal anche se l'utente clicca fuori dalla finestra
        window.onclick = function(event) {
            if (event.target == modal) {
                modal.style.display = "none";
            }
        }

        // --- 6. LOGICA PER IL SUBMIT (DINAMICA) ---
        loginForm.onsubmit = function(event) {
            event.preventDefault(); // Impedisce al form di ricaricare la pagina

            // Se nessun trigger è attivo, non fare nulla (sicurezza)
            if (!triggerAttivo) return; 

            // Prendi la configurazione corretta basata sul trigger che abbiamo salvato
            const config = loginConfigs[triggerAttivo];
            
            // Prendi la password inserita dall'utente
            const passInserita = document.getElementById("passwordInput").value;

            // Controlla se la password inserita è UGUALE a quella nella configurazione
            if (passInserita === config.password) {
                // Se è GIUSTA:
                alert("Benvenuto Boss.");
                // Reindirizza alla pagina specifica per quel trigger
                window.location.href = config.pagina;
            } else {
                // Se è SBAGLIATA:
                messaggioErrore.textContent = "Credenziali errate. Riprova.";
            }
        }
    </script>

    </body>
</html>